{"ast":null,"code":"var _jsxFileName = \"/home/beatriz/Documents/gorilapp/src/components/Home/index.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getInvestimentosRequest, addInvestimentoRequest, removeInvestimentoRequest } from '../../store/modules/investimento/actions';\nimport { Head, Logo, Title, Bar, Content } from './styles';\nimport { Select, InputNumber, DatePicker, Button } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport Lists from '../Lists';\nimport Graph from '../Graph';\nimport logo from \"../../images/logo.jpeg\";\nimport 'antd/dist/antd.css';\nconst {\n  Option\n} = Select;\n\nconst Home = () => {\n  const [opcao, setOpcao] = useState(\"fixa\");\n  const [valor, setValor] = useState(0);\n  const [data, setData] = useState(\"01-01-2019\");\n  const [investimentoList, setInvestimentoList] = useState([]);\n  const [investimento, setInvestimento] = useState(\"\");\n  useEffect(() => {\n    const investimentos = localStorage.getItem(\"investimentoList\");\n\n    if (investimentos) {\n      setInvestimentoList(JSON.parse(investimentos));\n    }\n  }, []);\n  useEffect(() => {\n    localStorage.setItem('investimentoList', JSON.stringify(investimentoList));\n  }, [investimentoList]);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getInvestimentosRequest());\n  }, []);\n  const investimentos = useSelector(state => state.investimento.investimentos);\n  let ct_total = 0,\n      ct_fixa = 0,\n      perFixa = 0,\n      perVariavel = 1;\n  investimentos.map(investimento => {\n    if (investimento.opcao === \"fixa\") ct_fixa += investimento.valor;\n    ct_total += investimento.valor;\n  });\n\n  if (investimentos.length > 0) {\n    perFixa = ct_fixa / ct_total;\n    perVariavel = 1 - ct_fixa / ct_total;\n  }\n\n  function handleSelect(val) {\n    setOpcao(val);\n  }\n\n  function handleInput(val) {\n    setValor(val);\n  }\n\n  function handleDate(val, dateString) {\n    setData(dateString);\n  }\n\n  function handleAdd() {\n    dispatch(addInvestimentoRequest(opcao, valor, data));\n  }\n\n  function handleDelete(_id) {\n    dispatch(removeInvestimentoRequest(_id));\n  }\n\n  return /*#__PURE__*/React.createElement(Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Logo, {\n    src: logo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, \"Carteira de Investimentos\"), /*#__PURE__*/React.createElement(Bar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, \"Adicionar novo investimento:\"), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, \" Tipo:\"), /*#__PURE__*/React.createElement(Select, {\n    style: {\n      width: 120\n    },\n    onChange: e => handleSelect(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"fixa\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, \" Fixa \"), /*#__PURE__*/React.createElement(Option, {\n    value: \"variavel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, \" Vari\\xE1vel \")), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, \" Valor:\"), /*#__PURE__*/React.createElement(InputNumber, {\n    onChange: e => handleInput(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, \" Data:\"), /*#__PURE__*/React.createElement(DatePicker, {\n    format: \"DD-MM-YYYY\",\n    onChange: handleDate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleAdd,\n    shape: \"circle\",\n    icon: /*#__PURE__*/React.createElement(PlusOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 66\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Bar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Lists, {\n    investimentos: investimentos,\n    handleDelete: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Graph, {\n    perFixa: perFixa,\n    perVariavel: perVariavel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default Home;","map":{"version":3,"sources":["/home/beatriz/Documents/gorilapp/src/components/Home/index.tsx"],"names":["React","useEffect","useState","useSelector","useDispatch","getInvestimentosRequest","addInvestimentoRequest","removeInvestimentoRequest","Head","Logo","Title","Bar","Content","Select","InputNumber","DatePicker","Button","PlusOutlined","Lists","Graph","logo","Option","Home","opcao","setOpcao","valor","setValor","data","setData","investimentoList","setInvestimentoList","investimento","setInvestimento","investimentos","localStorage","getItem","JSON","parse","setItem","stringify","dispatch","state","ct_total","ct_fixa","perFixa","perVariavel","map","length","handleSelect","val","handleInput","handleDate","dateString","handleAdd","handleDelete","_id","width","e"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAGA,SAASC,uBAAT,EAAkCC,sBAAlC,EAA0DC,yBAA1D,QAA0F,0CAA1F;AAEA,SAAQC,IAAR,EAAcC,IAAd,EAAoBC,KAApB,EAA2BC,GAA3B,EAAgCC,OAAhC,QAA8C,UAA9C;AACA,SAAQC,MAAR,EAAgBC,WAAhB,EAA6BC,UAA7B,EAAyCC,MAAzC,QAAsD,MAAtD;AACA,SAAQC,YAAR,QAA2B,mBAA3B;AAEA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAO,oBAAP;AAEA,MAAM;AAACC,EAAAA;AAAD,IAAWR,MAAjB;;AASA,MAAMS,IAAc,GAAG,MAAM;AACzB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBtB,QAAQ,CAAC,MAAD,CAAlC;AACA,QAAM,CAACuB,KAAD,EAAQC,QAAR,IAAoBxB,QAAQ,CAAC,CAAD,CAAlC;AACA,QAAM,CAACyB,IAAD,EAAOC,OAAP,IAAkB1B,QAAQ,CAAC,YAAD,CAAhC;AACA,QAAM,CAAC2B,gBAAD,EAAmBC,mBAAnB,IAA0C5B,QAAQ,CAAqB,EAArB,CAAxD;AACA,QAAM,CAAC6B,YAAD,EAAeC,eAAf,IAAkC9B,QAAQ,CAAC,EAAD,CAAhD;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMgC,aAAa,GAAGC,YAAY,CAACC,OAAb,CAAqB,kBAArB,CAAtB;;AACA,QAAGF,aAAH,EAAiB;AACbH,MAAAA,mBAAmB,CAACM,IAAI,CAACC,KAAL,CAAWJ,aAAX,CAAD,CAAnB;AACJ;AACH,GALQ,EAKN,EALM,CAAT;AAOAhC,EAAAA,SAAS,CAAC,MAAM;AACZiC,IAAAA,YAAY,CAACI,OAAb,CAAqB,kBAArB,EAAyCF,IAAI,CAACG,SAAL,CAAeV,gBAAf,CAAzC;AACH,GAFQ,EAEN,CAACA,gBAAD,CAFM,CAAT;AAIA,QAAMW,QAAQ,GAAGpC,WAAW,EAA5B;AAEAH,EAAAA,SAAS,CAAC,MAAM;AACZuC,IAAAA,QAAQ,CAACnC,uBAAuB,EAAxB,CAAR;AACD,GAFM,EAEJ,EAFI,CAAT;AAIA,QAAM4B,aAAa,GAAG9B,WAAW,CAAEsC,KAAD,IAA6BA,KAAK,CAACV,YAAN,CAAmBE,aAAjD,CAAjC;AAEA,MAAIS,QAAQ,GAAG,CAAf;AAAA,MAAkBC,OAAO,GAAG,CAA5B;AAAA,MAA+BC,OAAO,GAAG,CAAzC;AAAA,MAA4CC,WAAW,GAAG,CAA1D;AACAZ,EAAAA,aAAa,CAACa,GAAd,CAAkBf,YAAY,IAAI;AAC9B,QAAGA,YAAY,CAACR,KAAb,KAAuB,MAA1B,EACIoB,OAAO,IAAEZ,YAAY,CAACN,KAAtB;AACJiB,IAAAA,QAAQ,IAAEX,YAAY,CAACN,KAAvB;AACH,GAJD;;AAKA,MAAGQ,aAAa,CAACc,MAAd,GAAqB,CAAxB,EAA0B;AACtBH,IAAAA,OAAO,GAAID,OAAO,GAACD,QAAnB;AACAG,IAAAA,WAAW,GAAI,IAAIF,OAAO,GAACD,QAA3B;AACH;;AAED,WAASM,YAAT,CAAsBC,GAAtB,EAA+B;AAC3BzB,IAAAA,QAAQ,CAACyB,GAAD,CAAR;AACH;;AACD,WAASC,WAAT,CAAqBD,GAArB,EAA8B;AAC1BvB,IAAAA,QAAQ,CAACuB,GAAD,CAAR;AACH;;AACD,WAASE,UAAT,CAAoBF,GAApB,EAA8BG,UAA9B,EAAiD;AAC7CxB,IAAAA,OAAO,CAACwB,UAAD,CAAP;AACH;;AACD,WAASC,SAAT,GAAoB;AAChBb,IAAAA,QAAQ,CAAClC,sBAAsB,CAACiB,KAAD,EAAQE,KAAR,EAAeE,IAAf,CAAvB,CAAR;AACH;;AACD,WAAS2B,YAAT,CAAsBC,GAAtB,EAAkC;AAC9Bf,IAAAA,QAAQ,CAACjC,yBAAyB,CAACgD,GAAD,CAA1B,CAAR;AACH;;AAED,sBACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAM,IAAA,GAAG,EAAInC,IAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,eAII,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAJJ,eAOI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI,oBAAC,MAAD;AACA,IAAA,KAAK,EAAE;AAAEoC,MAAAA,KAAK,EAAE;AAAT,KADP;AAEA,IAAA,QAAQ,EAAEC,CAAC,IAAET,YAAY,CAACS,CAAD,CAFzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAJJ,CAHJ,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eATJ,eAUI,oBAAC,WAAD;AAAa,IAAA,QAAQ,EAAEA,CAAC,IAAEP,WAAW,CAACO,CAAD,CAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,eAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXJ,eAYI,oBAAC,UAAD;AAAY,IAAA,MAAM,EAAC,YAAnB;AAAgC,IAAA,QAAQ,EAAEN,UAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZJ,eAaI,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEE,SAAjB;AAA4B,IAAA,KAAK,EAAC,QAAlC;AAA2C,IAAA,IAAI,eAAE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbJ,CAPJ,eAsBI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AAAO,IAAA,aAAa,EAAEpB,aAAtB;AAAqC,IAAA,YAAY,EAAEqB,YAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAtBJ,eAyBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AAAO,IAAA,OAAO,EAAIV,OAAlB;AAA2B,IAAA,WAAW,EAAEC,WAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAzBJ,CADJ;AA+BH,CApFD;;AAsFA,eAAevB,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { ApplicationState } from '../../store'\nimport { getInvestimentosRequest, addInvestimentoRequest, removeInvestimentoRequest} from '../../store/modules/investimento/actions'\n\nimport {Head, Logo, Title, Bar, Content} from './styles'\nimport {Select, InputNumber, DatePicker, Button} from 'antd'\nimport {PlusOutlined} from '@ant-design/icons'\n\nimport Lists from '../Lists'\nimport Graph from '../Graph'\nimport logo from \"../../images/logo.jpeg\"\nimport 'antd/dist/antd.css';\n\nconst {Option} = Select;\n\ninterface InvestimentoData {\n    _id?: string,\n    opcao: string,\n    valor: number,\n    data: string\n}\n\nconst Home: React.FC = () => {\n    const [opcao, setOpcao] = useState(\"fixa\")\n    const [valor, setValor] = useState(0)\n    const [data, setData] = useState(\"01-01-2019\")\n    const [investimentoList, setInvestimentoList] = useState<InvestimentoData[]>([])\n    const [investimento, setInvestimento] = useState(\"\")\n\n    useEffect(() => {\n        const investimentos = localStorage.getItem(\"investimentoList\")\n        if(investimentos){\n            setInvestimentoList(JSON.parse(investimentos))\n       }\n    }, [])\n    \n    useEffect(() => {\n        localStorage.setItem('investimentoList', JSON.stringify(investimentoList))\n    }, [investimentoList])\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getInvestimentosRequest())\n      }, [])\n      \n    const investimentos = useSelector((state: ApplicationState) => state.investimento.investimentos)\n    \n    let ct_total = 0, ct_fixa = 0, perFixa = 0, perVariavel = 1\n    investimentos.map(investimento => {\n        if(investimento.opcao === \"fixa\")\n            ct_fixa+=investimento.valor\n        ct_total+=investimento.valor\n    })\n    if(investimentos.length>0){\n        perFixa = (ct_fixa/ct_total)\n        perVariavel = (1 - ct_fixa/ct_total)\n    }\n\n    function handleSelect(val: any){\n        setOpcao(val)\n    }\n    function handleInput(val: any){\n        setValor(val)\n    }\n    function handleDate(val: any, dateString: string){\n        setData(dateString)\n    }\n    function handleAdd(){\n        dispatch(addInvestimentoRequest(opcao, valor, data))\n    }\n    function handleDelete(_id: string){\n        dispatch(removeInvestimentoRequest(_id))\n    }\n\n    return (\n        <Content>    \n            <Head>\n                <Logo src = {logo} />\n            </Head>\n            <Title>\n                Carteira de Investimentos\n            </Title>\n            <Bar>\n                <h4>Adicionar novo investimento:</h4>\n                <h4> Tipo:</h4>\n                <Select \n                style={{ width: 120 }} \n                onChange={e=>handleSelect(e)}>                    \n                    <Option value=\"fixa\"> Fixa </Option>\n                    <Option value=\"variavel\"> Variável </Option>\n                </Select>\n                <h4> Valor:</h4>\n                <InputNumber onChange={e=>handleInput(e)}/>\n                <h4> Data:</h4>\n                <DatePicker format=\"DD-MM-YYYY\" onChange={handleDate}/>\n                <Button onClick={handleAdd} shape=\"circle\" icon={<PlusOutlined/>}/>\n            </Bar>\n            <Bar>\n                <Lists investimentos={investimentos} handleDelete={handleDelete} />\n            </Bar>\n            <div>\n                <Graph perFixa = {perFixa} perVariavel={perVariavel}/>\n            </div>\n        </Content>\n    )\n}\n\nexport default Home"]},"metadata":{},"sourceType":"module"}