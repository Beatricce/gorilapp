{"ast":null,"code":"import { call, all, takeLatest, put, select } from 'redux-saga/effects';\nimport api from '../../../services/api';\nimport { getInvestimentosSuccess } from './actions';\nimport { InvestimentoTypes } from './types';\n\nfunction* getInvestimentos() {\n  const investimentosData = yield call(api.get, '');\n  yield put(getInvestimentosSuccess(investimentosData.data));\n}\n\nfunction* addInvestimento({\n  payload\n}) {\n  const investimentos = yield select(state => state.investimento.investimentos);\n  const newInvestimento = {\n    opcao: payload.opcao,\n    valor: payload.valor,\n    data: payload.data\n  };\n  yield call(api.post, '', newInvestimento);\n  const updatedInvestimentos = [newInvestimento, ...investimentos];\n  console.log(updatedInvestimentos);\n  yield put(getInvestimentosSuccess(updatedInvestimentos));\n}\n\nexport default all([takeLatest(InvestimentoTypes.GET_INVESTIMENTOS_REQUEST, getInvestimentos), takeLatest(InvestimentoTypes.ADD_INVESTIMENTO_REQUEST, addInvestimento)]);","map":{"version":3,"sources":["/home/beatriz/Documents/gorilapp/gorilapp_front/src/store/modules/investimento/sagas.tsx"],"names":["call","all","takeLatest","put","select","api","getInvestimentosSuccess","InvestimentoTypes","getInvestimentos","investimentosData","get","data","addInvestimento","payload","investimentos","state","investimento","newInvestimento","opcao","valor","post","updatedInvestimentos","console","log","GET_INVESTIMENTOS_REQUEST","ADD_INVESTIMENTO_REQUEST"],"mappings":"AAAA,SAASA,IAAT,EAAeC,GAAf,EAAoBC,UAApB,EAAgCC,GAAhC,EAAqCC,MAArC,QAAmD,oBAAnD;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AAEA,SAASC,uBAAT,QAAuC,WAAvC;AAKA,SAASC,iBAAT,QAAoD,SAApD;;AAEA,UAAUC,gBAAV,GAA6B;AACzB,QAAMC,iBAAiB,GAAG,MAAMT,IAAI,CAACK,GAAG,CAACK,GAAL,EAAU,EAAV,CAApC;AACA,QAAMP,GAAG,CAACG,uBAAuB,CAACG,iBAAiB,CAACE,IAAnB,CAAxB,CAAT;AACH;;AAED,UAAUC,eAAV,CAA0B;AAACC,EAAAA;AAAD,CAA1B,EAA+C;AAC3C,QAAMC,aAAa,GAAE,MAAMV,MAAM,CAAEW,KAAD,IAA6BA,KAAK,CAACC,YAAN,CAAmBF,aAAjD,CAAjC;AACA,QAAMG,eAAe,GAAG;AACpBC,IAAAA,KAAK,EAAEL,OAAO,CAACK,KADK;AAEpBC,IAAAA,KAAK,EAAEN,OAAO,CAACM,KAFK;AAGpBR,IAAAA,IAAI,EAAEE,OAAO,CAACF;AAHM,GAAxB;AAMA,QAAMX,IAAI,CAACK,GAAG,CAACe,IAAL,EAAW,EAAX,EAAeH,eAAf,CAAV;AAEA,QAAMI,oBAAoB,GAAG,CAACJ,eAAD,EAAkB,GAAGH,aAArB,CAA7B;AACAQ,EAAAA,OAAO,CAACC,GAAR,CAAYF,oBAAZ;AACA,QAAMlB,GAAG,CAACG,uBAAuB,CAACe,oBAAD,CAAxB,CAAT;AACH;;AAED,eAAepB,GAAG,CAAC,CACfC,UAAU,CAACK,iBAAiB,CAACiB,yBAAnB,EAA8ChB,gBAA9C,CADK,EAEfN,UAAU,CAACK,iBAAiB,CAACkB,wBAAnB,EAA6Cb,eAA7C,CAFK,CAAD,CAAlB","sourcesContent":["import { call, all, takeLatest, put, select } from 'redux-saga/effects'\nimport api from '../../../services/api'\n\nimport { getInvestimentosSuccess} from './actions'\nimport { AnyAction } from 'redux'\n\nimport { ApplicationState } from '../../index'\n\nimport { InvestimentoTypes, InvestimentoData } from './types'\n\nfunction* getInvestimentos() {\n    const investimentosData = yield call(api.get, '')\n    yield put(getInvestimentosSuccess(investimentosData.data))\n}\n\nfunction* addInvestimento({payload}: AnyAction){\n    const investimentos= yield select((state: ApplicationState) => state.investimento.investimentos)\n    const newInvestimento = {\n        opcao: payload.opcao,\n        valor: payload.valor,\n        data: payload.data\n    }\n\n    yield call(api.post, '', newInvestimento)\n\n    const updatedInvestimentos = [newInvestimento, ...investimentos]\n    console.log(updatedInvestimentos)\n    yield put(getInvestimentosSuccess(updatedInvestimentos))\n}\n\nexport default all([\n    takeLatest(InvestimentoTypes.GET_INVESTIMENTOS_REQUEST, getInvestimentos),\n    takeLatest(InvestimentoTypes.ADD_INVESTIMENTO_REQUEST, addInvestimento),\n  ])"]},"metadata":{},"sourceType":"module"}